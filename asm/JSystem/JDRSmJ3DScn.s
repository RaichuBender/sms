.include "macros.inc"

.section .text, "ax"  # 0x80005600 - 0x8036FBA0
.global __ct__Q26JDrama9TSmJ3DScnFPCcl
__ct__Q26JDrama9TSmJ3DScnFPCcl:
/* 80046818 00043758  7C 08 02 A6 */	mflr r0
/* 8004681C 0004375C  90 01 00 04 */	stw r0, 4(r1)
/* 80046820 00043760  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80046824 00043764  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 80046828 00043768  93 C1 00 28 */	stw r30, 0x28(r1)
/* 8004682C 0004376C  93 A1 00 24 */	stw r29, 0x24(r1)
/* 80046830 00043770  93 81 00 20 */	stw r28, 0x20(r1)
/* 80046834 00043774  3B 85 00 00 */	addi r28, r5, 0
/* 80046838 00043778  90 61 00 08 */	stw r3, 8(r1)
/* 8004683C 0004377C  3C 60 80 3B */	lis r3, __vt__Q26JDrama8TNameRef@ha
/* 80046840 00043780  38 03 A8 60 */	addi r0, r3, __vt__Q26JDrama8TNameRef@l
/* 80046844 00043784  83 A1 00 08 */	lwz r29, 8(r1)
/* 80046848 00043788  7C 83 23 78 */	mr r3, r4
/* 8004684C 0004378C  93 A1 00 1C */	stw r29, 0x1c(r1)
/* 80046850 00043790  90 1D 00 00 */	stw r0, 0(r29)
/* 80046854 00043794  90 9D 00 04 */	stw r4, 4(r29)
/* 80046858 00043798  4B FF DE 35 */	bl calcKeyCode__Q26JDrama8TNameRefFPCc
/* 8004685C 0004379C  3C 80 80 3B */	lis r4, __vt__Q26JDrama8TViewObj@ha
/* 80046860 000437A0  B0 7D 00 08 */	sth r3, 8(r29)
/* 80046864 000437A4  38 04 A0 C0 */	addi r0, r4, __vt__Q26JDrama8TViewObj@l
/* 80046868 000437A8  90 1D 00 00 */	stw r0, 0(r29)
/* 8004686C 000437AC  3B C0 00 00 */	li r30, 0
/* 80046870 000437B0  38 81 00 14 */	addi r4, r1, 0x14
/* 80046874 000437B4  B3 DD 00 0C */	sth r30, 0xc(r29)
/* 80046878 000437B8  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8004687C 000437BC  38 7F 00 10 */	addi r3, r31, 0x10
/* 80046880 000437C0  4B FE D9 7D */	bl __ct__Q27JGadget18TList_pointer_voidFRCQ27JGadget14TAllocator$$0Pv$$1
/* 80046884 000437C4  3C 60 80 3B */	lis r3, __vt__Q26JDrama55TViewObjPtrListT$$0Q26JDrama8TViewObj$$4Q26JDrama8TViewObj$$1@ha
/* 80046888 000437C8  38 03 A5 40 */	addi r0, r3, __vt__Q26JDrama55TViewObjPtrListT$$0Q26JDrama8TViewObj$$4Q26JDrama8TViewObj$$1@l
/* 8004688C 000437CC  3C 60 80 3B */	lis r3, __vt__Q26JDrama9TSmJ3DScn@ha
/* 80046890 000437D0  90 1F 00 00 */	stw r0, 0(r31)
/* 80046894 000437D4  38 03 A9 D0 */	addi r0, r3, __vt__Q26JDrama9TSmJ3DScn@l
/* 80046898 000437D8  90 1D 00 00 */	stw r0, 0(r29)
/* 8004689C 000437DC  93 DD 00 20 */	stw r30, 0x20(r29)
/* 800468A0 000437E0  93 9D 00 28 */	stw r28, 0x28(r29)
/* 800468A4 000437E4  80 1D 00 28 */	lwz r0, 0x28(r29)
/* 800468A8 000437E8  54 03 10 3A */	slwi r3, r0, 2
/* 800468AC 000437EC  4B FC 61 05 */	bl __nwa__FUl
/* 800468B0 000437F0  90 7D 00 24 */	stw r3, 0x24(r29)
/* 800468B4 000437F4  3B A0 00 00 */	li r29, 0
/* 800468B8 000437F8  48 00 00 34 */	b lbl_800468EC
lbl_800468BC:
/* 800468BC 000437FC  38 60 00 24 */	li r3, 0x24
/* 800468C0 00043800  4B FC 5F F1 */	bl __nw__FUl
/* 800468C4 00043804  7C 7C 1B 79 */	or. r28, r3, r3
/* 800468C8 00043808  41 82 00 10 */	beq lbl_800468D8
/* 800468CC 0004380C  38 7C 00 00 */	addi r3, r28, 0
/* 800468D0 00043810  38 80 04 00 */	li r4, 0x400
/* 800468D4 00043814  4B FF 28 5D */	bl __ct__13J3DDrawBufferFUl
lbl_800468D8:
/* 800468D8 00043818  80 61 00 08 */	lwz r3, 8(r1)
/* 800468DC 0004381C  3B BD 00 01 */	addi r29, r29, 1
/* 800468E0 00043820  80 63 00 24 */	lwz r3, 0x24(r3)
/* 800468E4 00043824  7F 83 F1 2E */	stwx r28, r3, r30
/* 800468E8 00043828  3B DE 00 04 */	addi r30, r30, 4
lbl_800468EC:
/* 800468EC 0004382C  80 61 00 08 */	lwz r3, 8(r1)
/* 800468F0 00043830  80 03 00 28 */	lwz r0, 0x28(r3)
/* 800468F4 00043834  7C 1D 00 00 */	cmpw r29, r0
/* 800468F8 00043838  41 80 FF C4 */	blt lbl_800468BC
/* 800468FC 0004383C  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80046900 00043840  83 E1 00 2C */	lwz r31, 0x2c(r1)
/* 80046904 00043844  83 C1 00 28 */	lwz r30, 0x28(r1)
/* 80046908 00043848  7C 08 03 A6 */	mtlr r0
/* 8004690C 0004384C  83 A1 00 24 */	lwz r29, 0x24(r1)
/* 80046910 00043850  83 81 00 20 */	lwz r28, 0x20(r1)
/* 80046914 00043854  38 21 00 30 */	addi r1, r1, 0x30
/* 80046918 00043858  4E 80 00 20 */	blr 

.global perform__Q26JDrama9TSmJ3DScnFUlPQ26JDrama9TGraphics
perform__Q26JDrama9TSmJ3DScnFUlPQ26JDrama9TGraphics:
/* 8004691C 0004385C  7C 08 02 A6 */	mflr r0
/* 80046920 00043860  90 01 00 04 */	stw r0, 4(r1)
/* 80046924 00043864  54 80 07 BF */	clrlwi. r0, r4, 0x1e
/* 80046928 00043868  94 21 FF C8 */	stwu r1, -0x38(r1)
/* 8004692C 0004386C  BF 61 00 24 */	stmw r27, 0x24(r1)
/* 80046930 00043870  3B 64 00 00 */	addi r27, r4, 0
/* 80046934 00043874  3B E3 00 00 */	addi r31, r3, 0
/* 80046938 00043878  3B 85 00 00 */	addi r28, r5, 0
/* 8004693C 0004387C  41 82 00 14 */	beq lbl_80046950
/* 80046940 00043880  38 7F 00 00 */	addi r3, r31, 0
/* 80046944 00043884  38 9B 00 00 */	addi r4, r27, 0
/* 80046948 00043888  38 BC 00 00 */	addi r5, r28, 0
/* 8004694C 0004388C  4B FF E2 F1 */	bl perform__Q26JDrama55TViewObjPtrListT$$0Q26JDrama8TViewObj$$4Q26JDrama8TViewObj$$1FUlPQ26JDrama9TGraphics
lbl_80046950:
/* 80046950 00043890  57 60 07 39 */	rlwinm. r0, r27, 0, 0x1c, 0x1c
/* 80046954 00043894  41 82 00 C8 */	beq lbl_80046A1C
/* 80046958 00043898  80 7F 00 20 */	lwz r3, 0x20(r31)
/* 8004695C 0004389C  28 03 00 00 */	cmplwi r3, 0
/* 80046960 000438A0  41 82 00 1C */	beq lbl_8004697C
/* 80046964 000438A4  81 83 00 00 */	lwz r12, 0(r3)
/* 80046968 000438A8  38 BC 00 00 */	addi r5, r28, 0
/* 8004696C 000438AC  38 80 00 20 */	li r4, 0x20
/* 80046970 000438B0  81 8C 00 20 */	lwz r12, 0x20(r12)
/* 80046974 000438B4  7D 88 03 A6 */	mtlr r12
/* 80046978 000438B8  4E 80 00 21 */	blrl 
lbl_8004697C:
/* 8004697C 000438BC  3C 80 80 40 */	lis r4, j3dSys@ha
/* 80046980 000438C0  3B C4 0E D8 */	addi r30, r4, j3dSys@l
/* 80046984 000438C4  38 7C 00 B4 */	addi r3, r28, 0xb4
/* 80046988 000438C8  38 9E 00 00 */	addi r4, r30, 0
/* 8004698C 000438CC  48 04 D9 51 */	bl PSMTXCopy
/* 80046990 000438D0  7F C3 F3 78 */	mr r3, r30
/* 80046994 000438D4  4B FE 3B 69 */	bl drawInit__6J3DSysFv
/* 80046998 000438D8  3B A0 00 00 */	li r29, 0
/* 8004699C 000438DC  3B C0 00 00 */	li r30, 0
/* 800469A0 000438E0  48 00 00 18 */	b lbl_800469B8
lbl_800469A4:
/* 800469A4 000438E4  80 7F 00 24 */	lwz r3, 0x24(r31)
/* 800469A8 000438E8  7C 63 F0 2E */	lwzx r3, r3, r30
/* 800469AC 000438EC  4B FF 28 2D */	bl frameInit__13J3DDrawBufferFv
/* 800469B0 000438F0  3B BD 00 01 */	addi r29, r29, 1
/* 800469B4 000438F4  3B DE 00 04 */	addi r30, r30, 4
lbl_800469B8:
/* 800469B8 000438F8  80 1F 00 28 */	lwz r0, 0x28(r31)
/* 800469BC 000438FC  7C 1D 00 00 */	cmpw r29, r0
/* 800469C0 00043900  41 80 FF E4 */	blt lbl_800469A4
/* 800469C4 00043904  80 9F 00 24 */	lwz r4, 0x24(r31)
/* 800469C8 00043908  3C 60 80 40 */	lis r3, j3dSys@ha
/* 800469CC 0004390C  3B C3 0E D8 */	addi r30, r3, j3dSys@l
/* 800469D0 00043910  80 04 00 00 */	lwz r0, 0(r4)
/* 800469D4 00043914  38 7F 00 00 */	addi r3, r31, 0
/* 800469D8 00043918  38 BC 00 00 */	addi r5, r28, 0
/* 800469DC 0004391C  90 1E 00 44 */	stw r0, 0x44(r30)
/* 800469E0 00043920  63 64 02 04 */	ori r4, r27, 0x204
/* 800469E4 00043924  80 DF 00 24 */	lwz r6, 0x24(r31)
/* 800469E8 00043928  80 06 00 04 */	lwz r0, 4(r6)
/* 800469EC 0004392C  90 1E 00 48 */	stw r0, 0x48(r30)
/* 800469F0 00043930  4B FF E2 4D */	bl perform__Q26JDrama55TViewObjPtrListT$$0Q26JDrama8TViewObj$$4Q26JDrama8TViewObj$$1FUlPQ26JDrama9TGraphics
/* 800469F4 00043934  38 00 00 03 */	li r0, 3
/* 800469F8 00043938  94 1E 00 4C */	stwu r0, 0x4c(r30)
/* 800469FC 0004393C  80 7F 00 24 */	lwz r3, 0x24(r31)
/* 80046A00 00043940  80 63 00 00 */	lwz r3, 0(r3)
/* 80046A04 00043944  4B FF 2C 1D */	bl draw__13J3DDrawBufferCFv
/* 80046A08 00043948  38 00 00 04 */	li r0, 4
/* 80046A0C 0004394C  90 1E 00 00 */	stw r0, 0(r30)
/* 80046A10 00043950  80 7F 00 24 */	lwz r3, 0x24(r31)
/* 80046A14 00043954  80 63 00 04 */	lwz r3, 4(r3)
/* 80046A18 00043958  4B FF 2C 09 */	bl draw__13J3DDrawBufferCFv
lbl_80046A1C:
/* 80046A1C 0004395C  BB 61 00 24 */	lmw r27, 0x24(r1)
/* 80046A20 00043960  80 01 00 3C */	lwz r0, 0x3c(r1)
/* 80046A24 00043964  38 21 00 38 */	addi r1, r1, 0x38
/* 80046A28 00043968  7C 08 03 A6 */	mtlr r0
/* 80046A2C 0004396C  4E 80 00 20 */	blr 

.global loadSuper__Q26JDrama9TSmJ3DScnFR20JSUMemoryInputStream
loadSuper__Q26JDrama9TSmJ3DScnFR20JSUMemoryInputStream:
/* 80046A30 00043970  7C 08 02 A6 */	mflr r0
/* 80046A34 00043974  90 01 00 04 */	stw r0, 4(r1)
/* 80046A38 00043978  94 21 FF D8 */	stwu r1, -0x28(r1)
/* 80046A3C 0004397C  93 E1 00 24 */	stw r31, 0x24(r1)
/* 80046A40 00043980  3B E4 00 00 */	addi r31, r4, 0
/* 80046A44 00043984  93 C1 00 20 */	stw r30, 0x20(r1)
/* 80046A48 00043988  3B C3 00 00 */	addi r30, r3, 0
/* 80046A4C 0004398C  93 A1 00 1C */	stw r29, 0x1c(r1)
/* 80046A50 00043990  4B FF DE D1 */	bl loadSuper__Q26JDrama55TViewObjPtrListT$$0Q26JDrama8TViewObj$$4Q26JDrama8TViewObj$$1FR20JSUMemoryInputStream
/* 80046A54 00043994  38 60 00 18 */	li r3, 0x18
/* 80046A58 00043998  4B FC 5E 59 */	bl __nw__FUl
/* 80046A5C 0004399C  7C 7D 1B 79 */	or. r29, r3, r3
/* 80046A60 000439A0  41 82 00 4C */	beq lbl_80046AAC
/* 80046A64 000439A4  93 A1 00 10 */	stw r29, 0x10(r1)
/* 80046A68 000439A8  3C 60 80 37 */	lis r3, $$21578@ha
/* 80046A6C 000439AC  38 83 11 20 */	addi r4, r3, $$21578@l
/* 80046A70 000439B0  80 61 00 10 */	lwz r3, 0x10(r1)
/* 80046A74 000439B4  4B FF A0 95 */	bl __ct__Q26JDrama8TNameRefFPCc
/* 80046A78 000439B8  80 61 00 10 */	lwz r3, 0x10(r1)
/* 80046A7C 000439BC  3C 80 80 3B */	lis r4, __vt__Q26JDrama8TViewObj@ha
/* 80046A80 000439C0  38 04 A0 C0 */	addi r0, r4, __vt__Q26JDrama8TViewObj@l
/* 80046A84 000439C4  90 03 00 00 */	stw r0, 0(r3)
/* 80046A88 000439C8  38 63 00 0C */	addi r3, r3, 0xc
/* 80046A8C 000439CC  38 80 00 00 */	li r4, 0
/* 80046A90 000439D0  4B FF A0 71 */	bl __ct__Q26JDrama10TFlagT$$0Us$$1FUs
/* 80046A94 000439D4  3C 60 80 3B */	lis r3, __vt__Q26JDrama9TLightMap@ha
/* 80046A98 000439D8  38 03 A6 58 */	addi r0, r3, __vt__Q26JDrama9TLightMap@l
/* 80046A9C 000439DC  90 1D 00 00 */	stw r0, 0(r29)
/* 80046AA0 000439E0  38 00 00 00 */	li r0, 0
/* 80046AA4 000439E4  90 1D 00 10 */	stw r0, 0x10(r29)
/* 80046AA8 000439E8  90 1D 00 14 */	stw r0, 0x14(r29)
lbl_80046AAC:
/* 80046AAC 000439EC  93 BE 00 20 */	stw r29, 0x20(r30)
/* 80046AB0 000439F0  7F A3 EB 78 */	mr r3, r29
/* 80046AB4 000439F4  7F E4 FB 78 */	mr r4, r31
/* 80046AB8 000439F8  81 9D 00 00 */	lwz r12, 0(r29)
/* 80046ABC 000439FC  81 8C 00 10 */	lwz r12, 0x10(r12)
/* 80046AC0 00043A00  7D 88 03 A6 */	mtlr r12
/* 80046AC4 00043A04  4E 80 00 21 */	blrl 
/* 80046AC8 00043A08  80 01 00 2C */	lwz r0, 0x2c(r1)
/* 80046ACC 00043A0C  83 E1 00 24 */	lwz r31, 0x24(r1)
/* 80046AD0 00043A10  83 C1 00 20 */	lwz r30, 0x20(r1)
/* 80046AD4 00043A14  7C 08 03 A6 */	mtlr r0
/* 80046AD8 00043A18  83 A1 00 1C */	lwz r29, 0x1c(r1)
/* 80046ADC 00043A1C  38 21 00 28 */	addi r1, r1, 0x28
/* 80046AE0 00043A20  4E 80 00 20 */	blr 

.global __dt__Q26JDrama9TSmJ3DScnFv
__dt__Q26JDrama9TSmJ3DScnFv:
/* 80046AE4 00043A24  7C 08 02 A6 */	mflr r0
/* 80046AE8 00043A28  90 01 00 04 */	stw r0, 4(r1)
/* 80046AEC 00043A2C  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 80046AF0 00043A30  93 E1 00 14 */	stw r31, 0x14(r1)
/* 80046AF4 00043A34  3B E4 00 00 */	addi r31, r4, 0
/* 80046AF8 00043A38  93 C1 00 10 */	stw r30, 0x10(r1)
/* 80046AFC 00043A3C  7C 7E 1B 79 */	or. r30, r3, r3
/* 80046B00 00043A40  41 82 00 64 */	beq lbl_80046B64
/* 80046B04 00043A44  3C 60 80 3B */	lis r3, __vt__Q26JDrama9TSmJ3DScn@ha
/* 80046B08 00043A48  38 03 A9 D0 */	addi r0, r3, __vt__Q26JDrama9TSmJ3DScn@l
/* 80046B0C 00043A4C  90 1E 00 00 */	stw r0, 0(r30)
/* 80046B10 00043A50  41 82 00 44 */	beq lbl_80046B54
/* 80046B14 00043A54  3C 60 80 3B */	lis r3, __vt__Q26JDrama55TViewObjPtrListT$$0Q26JDrama8TViewObj$$4Q26JDrama8TViewObj$$1@ha
/* 80046B18 00043A58  38 63 A5 40 */	addi r3, r3, __vt__Q26JDrama55TViewObjPtrListT$$0Q26JDrama8TViewObj$$4Q26JDrama8TViewObj$$1@l
/* 80046B1C 00043A5C  34 1E 00 10 */	addic. r0, r30, 0x10
/* 80046B20 00043A60  90 7E 00 00 */	stw r3, 0(r30)
/* 80046B24 00043A64  41 82 00 10 */	beq lbl_80046B34
/* 80046B28 00043A68  38 7E 00 10 */	addi r3, r30, 0x10
/* 80046B2C 00043A6C  38 80 00 00 */	li r4, 0
/* 80046B30 00043A70  4B FE D7 59 */	bl __dt__Q27JGadget18TList_pointer_voidFv
lbl_80046B34:
/* 80046B34 00043A74  28 1E 00 00 */	cmplwi r30, 0
/* 80046B38 00043A78  41 82 00 1C */	beq lbl_80046B54
/* 80046B3C 00043A7C  3C 60 80 3B */	lis r3, __vt__Q26JDrama8TViewObj@ha
/* 80046B40 00043A80  38 03 A0 C0 */	addi r0, r3, __vt__Q26JDrama8TViewObj@l
/* 80046B44 00043A84  90 1E 00 00 */	stw r0, 0(r30)
/* 80046B48 00043A88  38 7E 00 00 */	addi r3, r30, 0
/* 80046B4C 00043A8C  38 80 00 00 */	li r4, 0
/* 80046B50 00043A90  4B FF DC AD */	bl __dt__Q26JDrama8TNameRefFv
lbl_80046B54:
/* 80046B54 00043A94  7F E0 07 35 */	extsh. r0, r31
/* 80046B58 00043A98  40 81 00 0C */	ble lbl_80046B64
/* 80046B5C 00043A9C  7F C3 F3 78 */	mr r3, r30
/* 80046B60 00043AA0  4B FC 5F 51 */	bl __dl__FPv
lbl_80046B64:
/* 80046B64 00043AA4  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 80046B68 00043AA8  7F C3 F3 78 */	mr r3, r30
/* 80046B6C 00043AAC  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 80046B70 00043AB0  83 C1 00 10 */	lwz r30, 0x10(r1)
/* 80046B74 00043AB4  7C 08 03 A6 */	mtlr r0
/* 80046B78 00043AB8  38 21 00 18 */	addi r1, r1, 0x18
/* 80046B7C 00043ABC  4E 80 00 20 */	blr 

.section .rodata, "wa"  # 0x8036FFA0 - 0x803A8380
$$21578:
	.incbin "baserom.dol", 0x36E120, 0x10

.section .data, "wa"  # 0x803A8380 - 0x803E6000
.global __vt__Q26JDrama9TSmJ3DScn
__vt__Q26JDrama9TSmJ3DScn:
  .4byte 0
  .4byte 0
  .4byte __dt__Q26JDrama9TSmJ3DScnFv
  .4byte getType__Q26JDrama8TNameRefCFv
  .4byte load__Q26JDrama55TViewObjPtrListT$$0Q26JDrama8TViewObj$$4Q26JDrama8TViewObj$$1FR20JSUMemoryInputStream
  .4byte save__Q26JDrama8TNameRefFR21JSUMemoryOutputStream
  .4byte loadAfter__Q26JDrama55TViewObjPtrListT$$0Q26JDrama8TViewObj$$4Q26JDrama8TViewObj$$1Fv
  .4byte searchF__Q26JDrama55TViewObjPtrListT$$0Q26JDrama8TViewObj$$4Q26JDrama8TViewObj$$1FUsPCc
  .4byte perform__Q26JDrama9TSmJ3DScnFUlPQ26JDrama9TGraphics
  .4byte loadSuper__Q26JDrama9TSmJ3DScnFR20JSUMemoryInputStream
  .4byte loadAfterSuper__Q26JDrama55TViewObjPtrListT$$0Q26JDrama8TViewObj$$4Q26JDrama8TViewObj$$1Fv
  .4byte 0
