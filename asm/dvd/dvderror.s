.include "macros.inc"

.section .text, "ax"  # 0x80005600 - 0x8036FBA0
.global ErrorCode2Num
ErrorCode2Num:
/* 80099260 000961A0  38 00 00 02 */	li r0, 2
/* 80099264 000961A4  3C 80 80 3B */	lis r4, ErrorTable@ha
/* 80099268 000961A8  7C 09 03 A6 */	mtctr r0
/* 8009926C 000961AC  38 84 0E 78 */	addi r4, r4, ErrorTable@l
/* 80099270 000961B0  38 A0 00 00 */	li r5, 0
lbl_80099274:
/* 80099274 000961B4  80 04 00 00 */	lwz r0, 0(r4)
/* 80099278 000961B8  7C 03 00 40 */	cmplw r3, r0
/* 8009927C 000961BC  40 82 00 0C */	bne lbl_80099288
/* 80099280 000961C0  54 A3 06 3E */	clrlwi r3, r5, 0x18
/* 80099284 000961C4  4E 80 00 20 */	blr 
lbl_80099288:
/* 80099288 000961C8  84 04 00 04 */	lwzu r0, 4(r4)
/* 8009928C 000961CC  38 A5 00 01 */	addi r5, r5, 1
/* 80099290 000961D0  7C 03 00 40 */	cmplw r3, r0
/* 80099294 000961D4  40 82 00 0C */	bne lbl_800992A0
/* 80099298 000961D8  54 A3 06 3E */	clrlwi r3, r5, 0x18
/* 8009929C 000961DC  4E 80 00 20 */	blr 
lbl_800992A0:
/* 800992A0 000961E0  84 04 00 04 */	lwzu r0, 4(r4)
/* 800992A4 000961E4  38 A5 00 01 */	addi r5, r5, 1
/* 800992A8 000961E8  7C 03 00 40 */	cmplw r3, r0
/* 800992AC 000961EC  40 82 00 0C */	bne lbl_800992B8
/* 800992B0 000961F0  54 A3 06 3E */	clrlwi r3, r5, 0x18
/* 800992B4 000961F4  4E 80 00 20 */	blr 
lbl_800992B8:
/* 800992B8 000961F8  84 04 00 04 */	lwzu r0, 4(r4)
/* 800992BC 000961FC  38 A5 00 01 */	addi r5, r5, 1
/* 800992C0 00096200  7C 03 00 40 */	cmplw r3, r0
/* 800992C4 00096204  40 82 00 0C */	bne lbl_800992D0
/* 800992C8 00096208  54 A3 06 3E */	clrlwi r3, r5, 0x18
/* 800992CC 0009620C  4E 80 00 20 */	blr 
lbl_800992D0:
/* 800992D0 00096210  84 04 00 04 */	lwzu r0, 4(r4)
/* 800992D4 00096214  38 A5 00 01 */	addi r5, r5, 1
/* 800992D8 00096218  7C 03 00 40 */	cmplw r3, r0
/* 800992DC 0009621C  40 82 00 0C */	bne lbl_800992E8
/* 800992E0 00096220  54 A3 06 3E */	clrlwi r3, r5, 0x18
/* 800992E4 00096224  4E 80 00 20 */	blr 
lbl_800992E8:
/* 800992E8 00096228  84 04 00 04 */	lwzu r0, 4(r4)
/* 800992EC 0009622C  38 A5 00 01 */	addi r5, r5, 1
/* 800992F0 00096230  7C 03 00 40 */	cmplw r3, r0
/* 800992F4 00096234  40 82 00 0C */	bne lbl_80099300
/* 800992F8 00096238  54 A3 06 3E */	clrlwi r3, r5, 0x18
/* 800992FC 0009623C  4E 80 00 20 */	blr 
lbl_80099300:
/* 80099300 00096240  84 04 00 04 */	lwzu r0, 4(r4)
/* 80099304 00096244  38 A5 00 01 */	addi r5, r5, 1
/* 80099308 00096248  7C 03 00 40 */	cmplw r3, r0
/* 8009930C 0009624C  40 82 00 0C */	bne lbl_80099318
/* 80099310 00096250  54 A3 06 3E */	clrlwi r3, r5, 0x18
/* 80099314 00096254  4E 80 00 20 */	blr 
lbl_80099318:
/* 80099318 00096258  84 04 00 04 */	lwzu r0, 4(r4)
/* 8009931C 0009625C  38 A5 00 01 */	addi r5, r5, 1
/* 80099320 00096260  7C 03 00 40 */	cmplw r3, r0
/* 80099324 00096264  40 82 00 0C */	bne lbl_80099330
/* 80099328 00096268  54 A3 06 3E */	clrlwi r3, r5, 0x18
/* 8009932C 0009626C  4E 80 00 20 */	blr 
lbl_80099330:
/* 80099330 00096270  84 04 00 04 */	lwzu r0, 4(r4)
/* 80099334 00096274  38 A5 00 01 */	addi r5, r5, 1
/* 80099338 00096278  7C 03 00 40 */	cmplw r3, r0
/* 8009933C 0009627C  40 82 00 0C */	bne lbl_80099348
/* 80099340 00096280  54 A3 06 3E */	clrlwi r3, r5, 0x18
/* 80099344 00096284  4E 80 00 20 */	blr 
lbl_80099348:
/* 80099348 00096288  38 84 00 04 */	addi r4, r4, 4
/* 8009934C 0009628C  38 A5 00 01 */	addi r5, r5, 1
/* 80099350 00096290  42 00 FF 24 */	bdnz lbl_80099274
/* 80099354 00096294  3C 80 00 10 */	lis r4, 0x10
/* 80099358 00096298  7C 03 20 40 */	cmplw r3, r4
/* 8009935C 0009629C  41 80 00 18 */	blt lbl_80099374
/* 80099360 000962A0  38 04 00 08 */	addi r0, r4, 8
/* 80099364 000962A4  7C 03 00 40 */	cmplw r3, r0
/* 80099368 000962A8  41 81 00 0C */	bgt lbl_80099374
/* 8009936C 000962AC  38 60 00 11 */	li r3, 0x11
/* 80099370 000962B0  4E 80 00 20 */	blr 
lbl_80099374:
/* 80099374 000962B4  38 60 00 1D */	li r3, 0x1d
/* 80099378 000962B8  4E 80 00 20 */	blr 

.global __DVDStoreErrorCode
__DVDStoreErrorCode:
/* 8009937C 000962BC  7C 08 02 A6 */	mflr r0
/* 80099380 000962C0  90 01 00 04 */	stw r0, 4(r1)
/* 80099384 000962C4  3C 03 FE DD */	addis r0, r3, 0xfedd
/* 80099388 000962C8  28 00 45 67 */	cmplwi r0, 0x4567
/* 8009938C 000962CC  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 80099390 000962D0  93 E1 00 14 */	stw r31, 0x14(r1)
/* 80099394 000962D4  40 82 00 0C */	bne lbl_800993A0
/* 80099398 000962D8  3B E0 00 FF */	li r31, 0xff
/* 8009939C 000962DC  48 00 00 38 */	b lbl_800993D4
lbl_800993A0:
/* 800993A0 000962E0  28 00 45 68 */	cmplwi r0, 0x4568
/* 800993A4 000962E4  40 82 00 0C */	bne lbl_800993B0
/* 800993A8 000962E8  3B E0 00 FE */	li r31, 0xfe
/* 800993AC 000962EC  48 00 00 28 */	b lbl_800993D4
lbl_800993B0:
/* 800993B0 000962F0  54 7F 46 3E */	srwi r31, r3, 0x18
/* 800993B4 000962F4  54 63 02 3E */	clrlwi r3, r3, 8
/* 800993B8 000962F8  4B FF FE A9 */	bl ErrorCode2Num
/* 800993BC 000962FC  28 1F 00 06 */	cmplwi r31, 6
/* 800993C0 00096300  41 80 00 08 */	blt lbl_800993C8
/* 800993C4 00096304  3B E0 00 06 */	li r31, 6
lbl_800993C8:
/* 800993C8 00096308  1C 1F 00 1E */	mulli r0, r31, 0x1e
/* 800993CC 0009630C  54 63 06 3E */	clrlwi r3, r3, 0x18
/* 800993D0 00096310  7F E3 02 14 */	add r31, r3, r0
lbl_800993D4:
/* 800993D4 00096314  4B FF 8C E5 */	bl __OSLockSramEx
/* 800993D8 00096318  9B E3 00 24 */	stb r31, 0x24(r3)
/* 800993DC 0009631C  38 60 00 01 */	li r3, 1
/* 800993E0 00096320  4B FF 90 61 */	bl __OSUnlockSramEx
/* 800993E4 00096324  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 800993E8 00096328  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 800993EC 0009632C  38 21 00 18 */	addi r1, r1, 0x18
/* 800993F0 00096330  7C 08 03 A6 */	mtlr r0
/* 800993F4 00096334  4E 80 00 20 */	blr 

.section .data, "wa"  # 0x803A8380 - 0x803E6000
    .balign 8
ErrorTable:
	.incbin "baserom.dol", 0x3ADE78, 0x48
